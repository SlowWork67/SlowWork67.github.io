<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SlowWork Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #28a745; --orange: #FF8A00; --bg: #f4f7f6; }
        body { font-family: 'Kanit', sans-serif; background: var(--bg); margin: 0; }
        nav { background: white; padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .logo { font-size: 24px; font-weight: bold; color: var(--orange); cursor: pointer; }
        .container { max-width: 1000px; margin: 20px auto; padding: 0 15px; }
        
        /* Job Cards */
        .job-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        .job-card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); transition: 0.3s; position: relative; }
        .job-card:hover { transform: translateY(-5px); }
        .job-img { width: 100%; height: 180px; object-fit: cover; }
        .job-info { padding: 15px; }

        /* Modal */
        .modal { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); display:none; justify-content:center; align-items:center; z-index: 1000; }
        .modal-content { background:white; padding:25px; border-radius:20px; width:90%; max-width:400px; }
        input { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-family: 'Kanit'; }
        button { cursor: pointer; border: none; border-radius: 8px; padding: 10px; font-family: 'Kanit'; font-weight: 500; }
        
        .btn-main { background: var(--primary); color: white; width: 100%; margin-bottom: 10px; }
        .btn-orange { background: var(--orange); color: white; width: 100%; }
        .btn-outline { background: none; border: 1px solid #ddd; width: 100%; margin-top: 10px; }
        
        /* Dashboard */
        .dashboard-card { background: white; padding: 20px; border-radius: 15px; border-left: 5px solid var(--orange); display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    </style>
</head>
<body>

<nav>
    <div class="logo" onclick="showHome()">Slow<span>Work</span></div>
    <div id="auth-section">
        <button onclick="openModal('auth-modal')" style="background:var(--primary); color:white;">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
    </div>
</nav>

<div class="container" id="home-page">
    <div id="user-dashboard" style="display:none;">
        <div class="dashboard-card">
            <div>
                <h3 style="margin:0;">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ, <span id="user-name">...</span></h3>
                <button onclick="showMyJobs()" style="background:none; color:var(--primary); padding:0; margin-top:5px; text-decoration:underline;">üìÇ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</button>
            </div>
            <button onclick="openModal('upload-modal')" class="btn-orange" style="width:auto; padding: 10px 20px;">+ ‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏á‡∏≤‡∏ô</button>
        </div>
    </div>

    <h2>‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
    <div class="job-grid" id="job-display"></div>
</div>

<div class="container" id="my-jobs-page" style="display:none;">
    <div style="display:flex; align-items:center; gap:15px; margin-bottom:20px;">
        <button onclick="showHome()" style="background:#eee;"><i class="fas fa-arrow-left"></i></button>
        <h2 style="margin:0;">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
    </div>
    <div class="job-grid" id="my-job-display"></div>
</div>

<div id="auth-modal" class="modal">
    <div class="modal-content">
        <h3 style="text-align:center;">‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
        <input type="email" id="auth-email" placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏•">
        <input type="password" id="auth-pw" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
        <button class="btn-main" onclick="handleSignIn()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
        <button class="btn-orange" onclick="handleSignUp()">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà</button>
        <button class="btn-outline" onclick="closeModal('auth-modal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    </div>
</div>

<div id="upload-modal" class="modal">
    <div class="modal-content">
        <h3>‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</h3>
        <input type="text" id="job-title" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
        <input type="number" id="job-price" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)">
        <button class="btn-main" onclick="uploadJob()">‡∏ï‡∏Å‡∏•‡∏á ‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</button>
        <button class="btn-outline" onclick="closeModal('upload-modal')">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script type="module" src="app.js"></script>

<script>
    function openModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }
</script>
</body>
</html>
